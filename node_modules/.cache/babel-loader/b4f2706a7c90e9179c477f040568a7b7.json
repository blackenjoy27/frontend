{"ast":null,"code":"var _jsxFileName = \"/Users/xli9400/Desktop/frontend/src/components/PotluckForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { connect } from 'react-redux';\nimport * as yup from 'yup';\nimport schema from './validation/Schema';\nimport { finishEditEvent, addEvent, getEvents } from \"../actions\";\nimport { axiosWithAuth } from '../helps/axiosWithAuth';\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormContainer = styled.div`\n    background-image: url('https://253qv1sx4ey389p9wtpp9sj0-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/Dishes_at_Potluck.jpg');\n    background-repeat: no-repeat;\n    background-position: top; \n    background-attachment: fixed;\n    background-size: cover;\n    color: #4f4f4f;\n    padding: 20%;\n`;\n_c = FormContainer;\nconst initialFormValues = {\n  event_name: '',\n  date: \"\",\n  time: \"\",\n  state: \"\",\n  city: \"\",\n  street_address: \"\",\n  zip: \"\",\n  max_attendee: \"\"\n};\nconst initialFormErrors = {\n  event_name: '',\n  date: '',\n  time: '',\n  state: '',\n  city: '',\n  street_address: '',\n  zip: '',\n  max_attendee: ''\n};\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst PotluckForm = props => {\n  _s();\n\n  const classes = useStyles();\n  const [formValues, setFormValues] = useState(initialFormValues);\n  const [formErrors, setFormErrors] = useState(initialFormErrors);\n  useEffect(() => {\n    console.log(\"Invoke\");\n\n    if (props.event) {\n      setFormValues(props.event);\n    }\n  }, [props.event]);\n\n  const validate = e => {\n    const value = e.target.value;\n    yup.reach(schema, e.target.name).validate(value).then(valid => {\n      setFormErrors({ ...formErrors,\n        [e.target.name]: ''\n      });\n    }).catch(err => {\n      setFormErrors({ ...formErrors,\n        [e.target.name]: err.errors[0]\n      });\n    });\n  };\n\n  const inputChange = e => {\n    validate(e);\n    const value = e.target.value;\n    setFormValues({ ...formValues,\n      [e.target.name]: value\n    });\n  };\n\n  const formSubmit = e => {\n    e.preventDefault();\n    const newEvent = { ...formValues,\n      organizer_id: props.user_id,\n      zip: Number(formValues.zip),\n      max_attendee: Number(formValues.max_attendee)\n    };\n\n    if (props.event) {\n      axiosWithAuth().put(`/api/events/${props.event.event_id}`, newEvent).then(res => {\n        props.dispatch(getEvents());\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n      props.dispatch(finishEditEvent());\n      props.history.push(\"/protected/user-events\");\n    } else {\n      props.dispatch(addEvent(newEvent));\n      props.history.push(\"/protected/add-foods\");\n    }\n  };\n\n  const cancelAction = () => {\n    if (props.event) {\n      props.dispatch(finishEditEvent());\n      props.history.push(\"/protected/user-events\");\n    } else {\n      props.history.push(\"/protected\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      style: {\n        backgroundColor: 'white',\n        paddingTop: '.1rem',\n        paddingBottom: '3%',\n        paddingLeft: '3%',\n        paddingRight: '3%',\n        borderRadius: '3%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          children: props.event ? \"Edit The Potluck\" : \"Create Your Own Potluck!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          onSubmit: formSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                required: true,\n                fullWidth: true,\n                label: \"Event Name\",\n                name: \"event_name\",\n                id: \"event_name\",\n                value: formValues.event_name,\n                onChange: inputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"date\",\n                variant: \"outlined\",\n                required: true,\n                fullWidth: true,\n                id: \"date\",\n                label: \"Date\",\n                autoFocus: true,\n                value: formValues.date,\n                onChange: inputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"time\",\n                variant: \"outlined\",\n                required: true,\n                fullWidth: true,\n                id: \"time\",\n                label: \"Time\",\n                value: formValues.time,\n                onChange: inputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"city\",\n                variant: \"outlined\",\n                required: true,\n                fullWidth: true,\n                label: \"City\",\n                autoFocus: true,\n                value: formValues.city,\n                onChange: inputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"state\",\n                variant: \"outlined\",\n                required: true,\n                fullWidth: true,\n                label: \"State\",\n                autoFocus: true,\n                value: formValues.state,\n                onChange: inputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                required: true,\n                fullWidth: true,\n                label: \"Street Address\",\n                type: \"address\",\n                id: \"streetAddress\",\n                name: \"street_address\",\n                placeholder: \"Address\",\n                value: formValues.street_address,\n                onChange: inputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"zip\",\n                variant: \"outlined\",\n                required: true,\n                fullWidth: true,\n                type: \"number\",\n                id: \"zip\",\n                label: \"Zip Code\",\n                autoFocus: true,\n                value: formValues.zip,\n                onChange: inputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                type: \"number\",\n                required: true,\n                fullWidth: true,\n                label: \"Max Attendees\",\n                autoFocus: true,\n                name: \"max_attendee\",\n                value: formValues.max_attendee,\n                onChange: inputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.submit // disabled={disabled}\n            ,\n            children: props.event ? \"Make Change\" : \"Create Potluck\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"neutral\",\n            onClick: cancelAction,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justify: \"flex-end\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 7\n  }, this);\n};\n\n_s(PotluckForm, \"wWeMe38ACn/QoeqsGo91rI4U2aM=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = PotluckForm;\nexport default connect(state => {\n  return {\n    user_id: state.user_id,\n    event: state.editingEvent\n  };\n})(PotluckForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FormContainer\");\n$RefreshReg$(_c2, \"PotluckForm\");","map":{"version":3,"sources":["/Users/xli9400/Desktop/frontend/src/components/PotluckForm.js"],"names":["React","useEffect","useState","Button","CssBaseline","TextField","Grid","Typography","makeStyles","Container","connect","yup","schema","finishEditEvent","addEvent","getEvents","axiosWithAuth","styled","FormContainer","div","initialFormValues","event_name","date","time","state","city","street_address","zip","max_attendee","initialFormErrors","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","PotluckForm","props","classes","formValues","setFormValues","formErrors","setFormErrors","console","log","event","validate","e","value","target","reach","name","then","valid","catch","err","errors","inputChange","formSubmit","preventDefault","newEvent","organizer_id","user_id","Number","put","event_id","res","dispatch","error","response","data","history","push","cancelAction","paddingTop","paddingBottom","paddingLeft","paddingRight","borderRadius","editingEvent"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAAQC,eAAR,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAkD,YAAlD;AACA,SAASC,aAAT,QAA8B,wBAA9B;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,MAAMC,aAAa,GAAGD,MAAM,CAACE,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;KAAMD,a;AAYN,MAAME,iBAAiB,GAAG;AACxBC,EAAAA,UAAU,EAAE,EADY;AAExBC,EAAAA,IAAI,EAAE,EAFkB;AAGxBC,EAAAA,IAAI,EAAE,EAHkB;AAIxBC,EAAAA,KAAK,EAAE,EAJiB;AAKxBC,EAAAA,IAAI,EAAE,EALkB;AAMxBC,EAAAA,cAAc,EAAE,EANQ;AAOxBC,EAAAA,GAAG,EAAE,EAPmB;AAQxBC,EAAAA,YAAY,EAAE;AARU,CAA1B;AAWA,MAAMC,iBAAiB,GAAG;AACtBR,EAAAA,UAAU,EAAE,EADU;AAEtBC,EAAAA,IAAI,EAAE,EAFgB;AAGtBC,EAAAA,IAAI,EAAE,EAHgB;AAItBC,EAAAA,KAAK,EAAE,EAJe;AAKtBC,EAAAA,IAAI,EAAE,EALgB;AAMtBC,EAAAA,cAAc,EAAE,EANM;AAOtBC,EAAAA,GAAG,EAAE,EAPiB;AAQtBC,EAAAA,YAAY,EAAE;AARQ,CAA1B;AAYA,MAAME,SAAS,GAAGtB,UAAU,CAAEuB,KAAD,KAAY;AACvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADN;AAELC,IAAAA,OAAO,EAAE,MAFJ;AAGLC,IAAAA,aAAa,EAAE,QAHV;AAILC,IAAAA,UAAU,EAAE;AAJP,GADgC;AAOvCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAER,KAAK,CAACG,OAAN,CAAc,CAAd,CADF;AAENM,IAAAA,eAAe,EAAET,KAAK,CAACU,OAAN,CAAcC,SAAd,CAAwBC;AAFnC,GAP+B;AAWvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AACW;AACfZ,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AAFP,GAXiC;AAevCY,EAAAA,MAAM,EAAE;AACNP,IAAAA,MAAM,EAAER,KAAK,CAACG,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AADF;AAf+B,CAAZ,CAAD,CAA5B;;AAoBA,MAAMa,WAAW,GAAIC,KAAD,IAAW;AAAA;;AAC3B,QAAMC,OAAO,GAAGnB,SAAS,EAAzB;AACA,QAAM,CAACoB,UAAD,EAAaC,aAAb,IAA8BjD,QAAQ,CAACkB,iBAAD,CAA5C;AACA,QAAM,CAACgC,UAAD,EAAaC,aAAb,IAA8BnD,QAAQ,CAAC2B,iBAAD,CAA5C;AAGA5B,EAAAA,SAAS,CAAC,MAAI;AACVqD,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;;AACA,QAAGP,KAAK,CAACQ,KAAT,EAAe;AACbL,MAAAA,aAAa,CAACH,KAAK,CAACQ,KAAP,CAAb;AACD;AACJ,GALQ,EAKP,CAACR,KAAK,CAACQ,KAAP,CALO,CAAT;;AAOA,QAAMC,QAAQ,GAAGC,CAAC,IAAI;AAClB,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB;AACAhD,IAAAA,GAAG,CACFkD,KADD,CACOjD,MADP,EACe8C,CAAC,CAACE,MAAF,CAASE,IADxB,EAECL,QAFD,CAEUE,KAFV,EAGCI,IAHD,CAGMC,KAAK,IAAI;AACXX,MAAAA,aAAa,CAAC,EACV,GAAGD,UADO;AAEV,SAACM,CAAC,CAACE,MAAF,CAASE,IAAV,GAAiB;AAFP,OAAD,CAAb;AAIH,KARD,EASCG,KATD,CASOC,GAAG,IAAI;AACVb,MAAAA,aAAa,CAAC,EACV,GAAGD,UADO;AAEV,SAACM,CAAC,CAACE,MAAF,CAASE,IAAV,GAAiBI,GAAG,CAACC,MAAJ,CAAW,CAAX;AAFP,OAAD,CAAb;AAIH,KAdD;AAeH,GAjBD;;AAmBD,QAAMC,WAAW,GAAGV,CAAC,IAAI;AACpBD,IAAAA,QAAQ,CAACC,CAAD,CAAR;AACA,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB;AACAR,IAAAA,aAAa,CAAC,EAAE,GAAGD,UAAL;AAAiB,OAACQ,CAAC,CAACE,MAAF,CAASE,IAAV,GAAiBH;AAAlC,KAAD,CAAb;AACH,GAJF;;AAMA,QAAMU,UAAU,GAAGX,CAAC,IAAI;AACnBA,IAAAA,CAAC,CAACY,cAAF;AACA,UAAMC,QAAQ,GAAG,EACf,GAAGrB,UADY;AAEfsB,MAAAA,YAAY,EAAExB,KAAK,CAACyB,OAFL;AAGf9C,MAAAA,GAAG,EAAE+C,MAAM,CAACxB,UAAU,CAACvB,GAAZ,CAHI;AAIfC,MAAAA,YAAY,EAAE8C,MAAM,CAACxB,UAAU,CAACtB,YAAZ;AAJL,KAAjB;;AAOA,QAAGoB,KAAK,CAACQ,KAAT,EAAe;AACbxC,MAAAA,aAAa,GAAG2D,GAAhB,CAAqB,eAAc3B,KAAK,CAACQ,KAAN,CAAYoB,QAAS,EAAxD,EAA2DL,QAA3D,EACCR,IADD,CACMc,GAAG,IAAE;AACT7B,QAAAA,KAAK,CAAC8B,QAAN,CAAe/D,SAAS,EAAxB;AACD,OAHD,EAICkD,KAJD,CAIOc,KAAK,IAAE;AACZzB,QAAAA,OAAO,CAACC,GAAR,CAAYwB,KAAK,CAACC,QAAN,CAAeC,IAA3B;AACD,OAND;AAOAjC,MAAAA,KAAK,CAAC8B,QAAN,CAAejE,eAAe,EAA9B;AACAmC,MAAAA,KAAK,CAACkC,OAAN,CAAcC,IAAd,CAAmB,wBAAnB;AACD,KAVD,MAUK;AACHnC,MAAAA,KAAK,CAAC8B,QAAN,CAAehE,QAAQ,CAACyD,QAAD,CAAvB;AACAvB,MAAAA,KAAK,CAACkC,OAAN,CAAcC,IAAd,CAAmB,sBAAnB;AACD;AAGJ,GAzBF;;AA2BC,QAAMC,YAAY,GAAE,MAAI;AACpB,QAAGpC,KAAK,CAACQ,KAAT,EAAe;AACbR,MAAAA,KAAK,CAAC8B,QAAN,CAAejE,eAAe,EAA9B;AACAmC,MAAAA,KAAK,CAACkC,OAAN,CAAcC,IAAd,CAAmB,wBAAnB;AACD,KAHD,MAII;AACFnC,MAAAA,KAAK,CAACkC,OAAN,CAAcC,IAAd,CAAmB,YAAnB;AACD;AAEJ,GATD;;AAaF,sBACI,QAAC,aAAD;AAAA,2BACE,QAAC,SAAD;AAAW,MAAA,SAAS,EAAC,MAArB;AAA4B,MAAA,QAAQ,EAAC,IAArC;AAA0C,MAAA,KAAK,EAAE;AAAC3C,QAAAA,eAAe,EAAE,OAAlB;AAA2B6C,QAAAA,UAAU,EAAE,OAAvC;AAAgDC,QAAAA,aAAa,EAAE,IAA/D;AAAqEC,QAAAA,WAAW,EAAE,IAAlF;AAAwFC,QAAAA,YAAY,EAAE,IAAtG;AAA4GC,QAAAA,YAAY,EAAE;AAA1H,OAAjD;AAAA,8BACM,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,cADN,eAEM;AAAK,QAAA,SAAS,EAAExC,OAAO,CAACjB,KAAxB;AAAA,gCAEE,QAAC,UAAD;AAAY,UAAA,SAAS,EAAC,IAAtB;AAA2B,UAAA,OAAO,EAAC,IAAnC;AAAA,oBACCgB,KAAK,CAACQ,KAAN,GAAc,kBAAd,GAAiC;AADlC;AAAA;AAAA;AAAA;AAAA,gBAFF,eAKA;AAAM,UAAA,SAAS,EAAEP,OAAO,CAACL,IAAzB;AAA+B,UAAA,QAAQ,EAAEyB,UAAzC;AAAA,kCACE,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAE,CAAzB;AAAA,oCACA,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAA,qCACI,QAAC,SAAD;AACE,gBAAA,OAAO,EAAC,UADV;AAEE,gBAAA,QAAQ,MAFV;AAGE,gBAAA,SAAS,MAHX;AAIE,gBAAA,KAAK,EAAC,YAJR;AAKE,gBAAA,IAAI,EAAC,YALP;AAME,gBAAA,EAAE,EAAC,YANL;AAOE,gBAAA,KAAK,EAAEnB,UAAU,CAAC7B,UAPpB;AAQE,gBAAA,QAAQ,EAAE+C;AARZ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADA,eAaE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAmB,cAAA,EAAE,EAAE,CAAvB;AAAA,qCACE,QAAC,SAAD;AACE,gBAAA,IAAI,EAAC,MADP;AAEE,gBAAA,OAAO,EAAC,UAFV;AAGE,gBAAA,QAAQ,MAHV;AAIE,gBAAA,SAAS,MAJX;AAKE,gBAAA,EAAE,EAAC,MALL;AAME,gBAAA,KAAK,EAAC,MANR;AAOE,gBAAA,SAAS,MAPX;AAQE,gBAAA,KAAK,EAAElB,UAAU,CAAC5B,IARpB;AASE,gBAAA,QAAQ,EAAE8C;AATZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAbF,eA0BE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAmB,cAAA,EAAE,EAAE,CAAvB;AAAA,qCACE,QAAC,SAAD;AACE,gBAAA,IAAI,EAAC,MADP;AAEE,gBAAA,OAAO,EAAC,UAFV;AAGE,gBAAA,QAAQ,MAHV;AAIE,gBAAA,SAAS,MAJX;AAKE,gBAAA,EAAE,EAAC,MALL;AAME,gBAAA,KAAK,EAAC,MANR;AAOE,gBAAA,KAAK,EAAElB,UAAU,CAAC3B,IAPpB;AAQE,gBAAA,QAAQ,EAAE6C;AARZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA1BF,eAsCE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAmB,cAAA,EAAE,EAAE,CAAvB;AAAA,qCACE,QAAC,SAAD;AACE,gBAAA,IAAI,EAAC,MADP;AAEE,gBAAA,OAAO,EAAC,UAFV;AAGE,gBAAA,QAAQ,MAHV;AAIE,gBAAA,SAAS,MAJX;AAKE,gBAAA,KAAK,EAAC,MALR;AAME,gBAAA,SAAS,MANX;AAOE,gBAAA,KAAK,EAAElB,UAAU,CAACzB,IAPpB;AAQE,gBAAA,QAAQ,EAAE2C;AARZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAtCF,eAkDE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAmB,cAAA,EAAE,EAAE,CAAvB;AAAA,qCACE,QAAC,SAAD;AACE,gBAAA,IAAI,EAAC,OADP;AAEE,gBAAA,OAAO,EAAC,UAFV;AAGE,gBAAA,QAAQ,MAHV;AAIE,gBAAA,SAAS,MAJX;AAKE,gBAAA,KAAK,EAAC,OALR;AAME,gBAAA,SAAS,MANX;AAOE,gBAAA,KAAK,EAAElB,UAAU,CAAC1B,KAPpB;AAQE,gBAAA,QAAQ,EAAE4C;AARZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAlDF,eA+DI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAA,qCACE,QAAC,SAAD;AAEE,gBAAA,OAAO,EAAC,UAFV;AAGE,gBAAA,QAAQ,MAHV;AAIE,gBAAA,SAAS,MAJX;AAKE,gBAAA,KAAK,EAAC,gBALR;AAME,gBAAA,IAAI,EAAC,SANP;AAOE,gBAAA,EAAE,EAAC,eAPL;AAQE,gBAAA,IAAI,EAAC,gBARP;AASE,gBAAA,WAAW,EAAC,SATd;AAUE,gBAAA,KAAK,EAAElB,UAAU,CAACxB,cAVpB;AAWE,gBAAA,QAAQ,EAAE0C;AAXZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA/DJ,eA8EI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAmB,cAAA,EAAE,EAAE,CAAvB;AAAA,qCACE,QAAC,SAAD;AACE,gBAAA,IAAI,EAAC,KADP;AAEE,gBAAA,OAAO,EAAC,UAFV;AAGE,gBAAA,QAAQ,MAHV;AAIE,gBAAA,SAAS,MAJX;AAKE,gBAAA,IAAI,EAAC,QALP;AAME,gBAAA,EAAE,EAAC,KANL;AAOE,gBAAA,KAAK,EAAC,UAPR;AAQE,gBAAA,SAAS,MARX;AASE,gBAAA,KAAK,EAAElB,UAAU,CAACvB,GATpB;AAUE,gBAAA,QAAQ,EAAEyC;AAVZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA9EJ,eA6FI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAmB,cAAA,EAAE,EAAE,CAAvB;AAAA,qCACE,QAAC,SAAD;AACE,gBAAA,OAAO,EAAC,UADV;AAEE,gBAAA,IAAI,EAAC,QAFP;AAGE,gBAAA,QAAQ,MAHV;AAIE,gBAAA,SAAS,MAJX;AAKE,gBAAA,KAAK,EAAC,eALR;AAME,gBAAA,SAAS,MANX;AAOE,gBAAA,IAAI,EAAC,cAPP;AAQE,gBAAA,KAAK,EAAElB,UAAU,CAACtB,YARpB;AASE,gBAAA,QAAQ,EAAEwC;AATZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA7FJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eA6GE,QAAC,MAAD;AACE,YAAA,IAAI,EAAC,QADP;AAEE,YAAA,SAAS,MAFX;AAGE,YAAA,OAAO,EAAC,WAHV;AAIE,YAAA,KAAK,EAAC,SAJR;AAKE,YAAA,SAAS,EAAEnB,OAAO,CAACH,MALrB,CAME;AANF;AAAA,sBAQCE,KAAK,CAACQ,KAAN,GAAc,aAAd,GAA4B;AAR7B;AAAA;AAAA;AAAA;AAAA,kBA7GF,eAuHC,QAAC,MAAD;AACG,YAAA,SAAS,MADZ;AAEG,YAAA,OAAO,EAAC,WAFX;AAGG,YAAA,KAAK,EAAC,SAHT;AAIG,YAAA,OAAO,EAAE4B,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvHD,eA+HI,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,kBA/HJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADJ;AAgJD,CA9ND;;GAAMrC,W;UACcjB,S;;;MADdiB,W;AAkON,eAAerC,OAAO,CAACc,KAAK,IAAE;AAC1B,SAAM;AACFiD,IAAAA,OAAO,EAAEjD,KAAK,CAACiD,OADb;AAEFjB,IAAAA,KAAK,EAAEhC,KAAK,CAACkE;AAFX,GAAN;AAIH,CALqB,CAAP,CAKZ3C,WALY,CAAf","sourcesContent":["import React, { useEffect, useState} from 'react'\n\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { connect } from 'react-redux';\nimport * as yup from 'yup';\nimport schema from './validation/Schema'\nimport {finishEditEvent,addEvent, getEvents} from \"../actions\";\nimport { axiosWithAuth } from '../helps/axiosWithAuth';\n\nimport styled from \"styled-components\";\n\nconst FormContainer = styled.div`\n    background-image: url('https://253qv1sx4ey389p9wtpp9sj0-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/Dishes_at_Potluck.jpg');\n    background-repeat: no-repeat;\n    background-position: top; \n    background-attachment: fixed;\n    background-size: cover;\n    color: #4f4f4f;\n    padding: 20%;\n`\n\n\n\nconst initialFormValues = {\n  event_name: '',\n  date: \"\",\n  time: \"\",\n  state: \"\",\n  city: \"\",\n  street_address: \"\",\n  zip: \"\",\n  max_attendee: \"\"\n}\n\nconst initialFormErrors = {\n    event_name: '',\n    date: '',\n    time: '',\n    state: '',\n    city: '',\n    street_address: '',\n    zip: '',\n    max_attendee: '',\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst PotluckForm = (props) => {\n    const classes = useStyles();\n    const [formValues, setFormValues] = useState(initialFormValues)\n    const [formErrors, setFormErrors] = useState(initialFormErrors)\n\n    \n    useEffect(()=>{\n        console.log(\"Invoke\");\n        if(props.event){\n          setFormValues(props.event);\n        }\n    },[props.event])\n\n    const validate = e => {\n        const value = e.target.value;\n        yup\n        .reach(schema, e.target.name)\n        .validate(value)\n        .then(valid => {\n            setFormErrors({\n                ...formErrors,\n                [e.target.name]: ''\n            })\n        })\n        .catch(err => {\n            setFormErrors({\n                ...formErrors,\n                [e.target.name]: err.errors[0]\n            })\n        })\n    }\n\n   const inputChange = e => {\n        validate(e);\n        const value = e.target.value;\n        setFormValues({ ...formValues, [e.target.name]: value })\n    }\n\n   const formSubmit = e => {\n        e.preventDefault();\n        const newEvent = {\n          ...formValues, \n          organizer_id: props.user_id,\n          zip: Number(formValues.zip),\n          max_attendee: Number(formValues.max_attendee)\n        };\n        \n        if(props.event){\n          axiosWithAuth().put(`/api/events/${props.event.event_id}`, newEvent)\n          .then(res=>{\n            props.dispatch(getEvents());\n          })\n          .catch(error=>{\n            console.log(error.response.data);\n          })\n          props.dispatch(finishEditEvent());\n          props.history.push(\"/protected/user-events\");\n        }else{\n          props.dispatch(addEvent(newEvent));\n          props.history.push(\"/protected/add-foods\");\n        }\n        \n        \n    };\n\n    const cancelAction =()=>{\n        if(props.event){\n          props.dispatch(finishEditEvent());\n          props.history.push(\"/protected/user-events\");\n        }\n        else{\n          props.history.push(\"/protected\");\n        }\n        \n    }\n\n\n\n  return (\n      <FormContainer>\n        <Container component=\"main\" maxWidth=\"xs\" style={{backgroundColor: 'white', paddingTop: '.1rem', paddingBottom: '3%', paddingLeft: '3%', paddingRight: '3%', borderRadius: '3%'}}>\n              <CssBaseline />\n              <div className={classes.paper}>\n                \n                <Typography component=\"h1\" variant=\"h5\">\n                {props.event ? \"Edit The Potluck\":\"Create Your Own Potluck!\"}\n              </Typography>\n              <form className={classes.form} onSubmit={formSubmit}>\n                <Grid container spacing={2}>\n                <Grid item xs={12}>\n                    <TextField\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"Event Name\"\n                      name='event_name'\n                      id='event_name'\n                      value={formValues.event_name}\n                      onChange={inputChange}\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      name=\"date\"\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      id=\"date\"\n                      label=\"Date\"\n                      autoFocus\n                      value={formValues.date}\n                      onChange={inputChange}\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      name=\"time\"\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      id=\"time\"\n                      label=\"Time\"\n                      value={formValues.time}\n                      onChange={inputChange}\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      name=\"city\"\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"City\"\n                      autoFocus\n                      value={formValues.city}\n                      onChange={inputChange}\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6}>\n                    <TextField\n                      name=\"state\"\n                      variant=\"outlined\"\n                      required\n                      fullWidth\n                      label=\"State\"\n                      autoFocus\n                      value={formValues.state}\n                      onChange={inputChange}\n                      \n                    />\n                  </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        \n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Street Address\"\n                        type=\"address\"\n                        id=\"streetAddress\"\n                        name='street_address'\n                        placeholder='Address'\n                        value={formValues.street_address}\n                        onChange={inputChange}\n                      />\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                      <TextField\n                        name=\"zip\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        type=\"number\"\n                        id=\"zip\"\n                        label=\"Zip Code\"\n                        autoFocus\n                        value={formValues.zip}\n                        onChange={inputChange}\n                        \n                      />\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                      <TextField\n                        variant=\"outlined\"\n                        type=\"number\"\n                        required\n                        fullWidth\n                        label=\"Max Attendees\"\n                        autoFocus\n                        name='max_attendee'\n                        value={formValues.max_attendee}\n                        onChange={inputChange}\n                      />\n                    </Grid>\n                  </Grid>\n                  \n                <Button\n                  type=\"submit\"\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                  // disabled={disabled}\n                >\n                {props.event ? \"Make Change\":\"Create Potluck\"}\n                </Button>\n               <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"neutral\"\n                  onClick={cancelAction}\n                >\n                  Cancel\n                </Button>\n                  <Grid container justify=\"flex-end\">\n                </Grid>\n              </form>\n            </div>\n          </Container>\n\n          </FormContainer>\n  );\n}\n\n\n\nexport default connect(state=>{\n    return{\n        user_id: state.user_id,\n        event: state.editingEvent\n    }\n})(PotluckForm)"]},"metadata":{},"sourceType":"module"}