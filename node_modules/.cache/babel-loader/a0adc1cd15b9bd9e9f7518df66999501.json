{"ast":null,"code":"var _jsxFileName = \"/Users/xli9400/Documents/Unit3/buildweek/potluck/src/components/UserPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport PotluckList from \"./PotluckList\";\nimport { MainDiv, ButtonDiv, UserDiv, PotluckButton } from './StyledComponents';\nimport { reset, restoreData } from \"../actions\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserPage = props => {\n  _s();\n\n  useEffect(() => {\n    const userData = localStorage.getItem(\"user-data\");\n    let backup;\n\n    if (userData && !props.state.user_id) {\n      backup = JSON.parse(userData);\n      props.dispatch(restoreData(backup));\n    } else if (userData && props.state.user_id) {\n      backup = JSON.stringify(props.state);\n      localStorage.setItem(\"user-data\", backup);\n    } else {\n      backup = JSON.stringify(props.state);\n      localStorage.setItem(\"user-data\", backup);\n    }\n  }, [props.state]);\n\n  const logout = () => {\n    props.dispatch(reset());\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user-data\");\n    props.history.push(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainDiv, {\n    children: [/*#__PURE__*/_jsxDEV(UserDiv, {\n      children: /*#__PURE__*/_jsxDEV(ButtonDiv, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: props.state.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PotluckButton, {\n          onClick: () => props.history.push(\"/protected/create\"),\n          children: \"Create Potluck\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PotluckButton, {\n          onClick: () => props.history.push(\"/protected/user-events\"),\n          children: \"Edit Potluck\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(PotluckButton, {\n          onClick: logout,\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), props.state.events.length !== 0 && /*#__PURE__*/_jsxDEV(PotluckList, {\n      events: props.state.events,\n      all: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 47\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserPage, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = UserPage;\nexport default connect(state => {\n  return {\n    state\n  };\n})(UserPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"sources":["/Users/xli9400/Documents/Unit3/buildweek/potluck/src/components/UserPage.js"],"names":["React","useEffect","PotluckList","MainDiv","ButtonDiv","UserDiv","PotluckButton","reset","restoreData","connect","UserPage","props","userData","localStorage","getItem","backup","state","user_id","JSON","parse","dispatch","stringify","setItem","logout","removeItem","history","push","username","events","length"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAAQC,OAAR,EAAiBC,SAAjB,EAA4BC,OAA5B,EAAqCC,aAArC,QAAyD,oBAAzD;AACA,SAAQC,KAAR,EAAcC,WAAd,QAAgC,YAAhC;AACA,SAAQC,OAAR,QAAsB,aAAtB;;;AAGA,MAAMC,QAAQ,GAAIC,KAAD,IAAS;AAAA;;AAGtBV,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMW,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAjB;AACA,QAAIC,MAAJ;;AACA,QAAGH,QAAQ,IAAI,CAACD,KAAK,CAACK,KAAN,CAAYC,OAA5B,EAAoC;AAChCF,MAAAA,MAAM,GAAGG,IAAI,CAACC,KAAL,CAAWP,QAAX,CAAT;AACAD,MAAAA,KAAK,CAACS,QAAN,CAAeZ,WAAW,CAACO,MAAD,CAA1B;AACH,KAHD,MAGM,IAAIH,QAAQ,IAAID,KAAK,CAACK,KAAN,CAAYC,OAA5B,EAAoC;AACtCF,MAAAA,MAAM,GAAGG,IAAI,CAACG,SAAL,CAAeV,KAAK,CAACK,KAArB,CAAT;AACAH,MAAAA,YAAY,CAACS,OAAb,CAAqB,WAArB,EAAiCP,MAAjC;AACH,KAHK,MAIF;AACAA,MAAAA,MAAM,GAAGG,IAAI,CAACG,SAAL,CAAeV,KAAK,CAACK,KAArB,CAAT;AACAH,MAAAA,YAAY,CAACS,OAAb,CAAqB,WAArB,EAAiCP,MAAjC;AACH;AACJ,GAdQ,EAcP,CAACJ,KAAK,CAACK,KAAP,CAdO,CAAT;;AAkBA,QAAMO,MAAM,GAAG,MAAI;AACfZ,IAAAA,KAAK,CAACS,QAAN,CAAeb,KAAK,EAApB;AACAM,IAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACAX,IAAAA,YAAY,CAACW,UAAb,CAAwB,WAAxB;AACAb,IAAAA,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACH,GALD;;AAOA,sBACI,QAAC,OAAD;AAAA,4BAEI,QAAC,OAAD;AAAA,6BAEI,QAAC,SAAD;AAAA,gCACA;AAAA,oBAAKf,KAAK,CAACK,KAAN,CAAYW;AAAjB;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA,QAAC,aAAD;AAAe,UAAA,OAAO,EAAE,MAAIhB,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,mBAAnB,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA,QAAC,aAAD;AAAe,UAAA,OAAO,EAAE,MAAIf,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,wBAAnB,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHA,eAIA,QAAC,aAAD;AAAe,UAAA,OAAO,EAAEH,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,YAFJ,EAaKZ,KAAK,CAACK,KAAN,CAAYY,MAAZ,CAAmBC,MAAnB,KAA4B,CAA5B,iBAAiC,QAAC,WAAD;AAAa,MAAA,MAAM,EAAElB,KAAK,CAACK,KAAN,CAAYY,MAAjC;AAAyC,MAAA,GAAG,EAAE;AAA9C;AAAA;AAAA;AAAA;AAAA,YAbtC;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkBH,CA9CD;;GAAMlB,Q;;KAAAA,Q;AAiDN,eAAeD,OAAO,CAACO,KAAK,IAAE;AAC1B,SAAM;AAACA,IAAAA;AAAD,GAAN;AACH,CAFqB,CAAP,CAEZN,QAFY,CAAf","sourcesContent":["import React, { useEffect} from \"react\";\nimport PotluckList from \"./PotluckList\";\nimport {MainDiv, ButtonDiv, UserDiv, PotluckButton} from './StyledComponents';\nimport {reset,restoreData} from \"../actions\";\nimport {connect} from \"react-redux\";\n\n\nconst UserPage = (props)=>{\n\n\n    useEffect(()=>{\n        const userData = localStorage.getItem(\"user-data\");\n        let backup;\n        if(userData && !props.state.user_id){\n            backup = JSON.parse(userData);\n            props.dispatch(restoreData(backup));\n        }else if( userData && props.state.user_id){\n            backup = JSON.stringify(props.state);\n            localStorage.setItem(\"user-data\",backup);\n        }\n        else{\n            backup = JSON.stringify(props.state);\n            localStorage.setItem(\"user-data\",backup);\n        }\n    },[props.state]);\n\n\n\n    const logout = ()=>{\n        props.dispatch(reset());\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user-data\");\n        props.history.push(\"/\");\n    }\n\n    return (\n        <MainDiv>\n\n            <UserDiv>\n            \n                <ButtonDiv>\n                <h2>{props.state.username}</h2>\n                <PotluckButton onClick={()=>props.history.push(\"/protected/create\")}>Create Potluck</PotluckButton>\n                <PotluckButton onClick={()=>props.history.push(\"/protected/user-events\")}>Edit Potluck</PotluckButton>\n                <PotluckButton onClick={logout}>Log Out</PotluckButton>\n                \n                </ButtonDiv>\n            </UserDiv>\n \n            {props.state.events.length!==0 && <PotluckList events={props.state.events} all={true}/>}\n\n        </MainDiv>\n    )\n}\n\n\nexport default connect(state=>{\n    return{state};\n})(UserPage);"]},"metadata":{},"sourceType":"module"}